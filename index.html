<!DOCTYPE html>
<html lang="en">
<head>
    <title>Visual Design Layout</title>
    <link rel="stylesheet" href="style.css"> <!-- Link to main styles -->
    <link rel="stylesheet" href="flexbox.css"> <!-- Link to flexbox styles -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
    
</head>
<body>

    <!-- Main Heading and Text in the same box -->
    <div class="main-heading">
        <h1>What medical research should be prioritised in future based on National Disability Insurance Scheme (NDIS) usage pattern?</h1>
        <p>TThis visualization examines the NDIS, a government scheme supporting over 500,000 individuals with 
            disabilities and allocating over AUD 30 billion annually. First, itâ€™s important to understand 
            how big of an issue this is and how it has changed over the years. Then, understanding which age
            groups and disabilities are most common can help Australia invest in research to tackle these 
            significant challenges. In the short term, recognizing areas of the market that lack enough 
            providers will also be beneficial.
</p>
    </div>

    <!-- First Section Heading -->
    <h2>NDIS participants and funding allocation has been growing steadily over the last 5 years with funding per 
        participant almost exceeding median income in Australia in some cases</h2>

    <!-- First Flexbox: Contains the map and graph with text underneath -->
    <div class="flexbox-container">
        <div class="visual-container">
            <div id="map"></div> <!-- Map Element -->
        </div>
        <div class="visual-container">
            <div id="graph"></div> <!-- Graph Element -->
            <div class="text-box">
                <ul>
                    <li>The Northern Territory stands out with low participant numbers but receives much higher funding than the median income.</li>
                    <li>Hunter Valley, Geelong, Bendigo, and Wide Bay have the highest participants per 10,000 at 400 (4% of the population) but receive some of the lowest funding(NSW and VIC) </li>
                    <li>Melbourne and Sydney, despite their large populations, have high participants (3.7% on average participants per 10,000 residents) (.</li>
                    <li>This highlights the need for the government to make funding more equitable and seek long-term solutions for residents.</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Second Section Heading -->
    <h2>Particularly, this funding is primarily directed toward supporting pre-teenagers (ages 0-14) and individuals with autism. 
        Moreover, there seems to be a shortage of providers in the market who offer services for people with autism and developmental delays.</h2>

    <!-- Second Flexbox: Contains three charts from country.json -->
    <div class="flexbox-container">
        <div class="visual-container">
            <div id="country-charts"></div> <!-- Placeholder for the three charts -->
        </div>
    </div>

    <div class="flexbox-container">
        <div class="visual-container">
            <div class="text-box">Text for Chart 1.</div>
            <div class="text-box">Text for Chart 1.</div>
            <div class="text-box">Text for Chart 1.</div>
          </div>
    </div>

    <!-- Second Section Heading -->
    <h2>Recommendation: In the short term, the government should introduce subsidies for providers 
        to support individuals with autism and developmental delays. In the long term, the government 
        should invest in research aimed at reducing the impact of autism in Australia, particularly 
        for the 0-14 age group. This approach will not only improve quality of life 
        but also reduce budget allocations toward the NDIS.</h2>

    <!-- Embedding the map, graph, and country charts using Vega-Lite -->
    <script>
        // Embed the map in the placeholder
        vegaEmbed('#map', 'map.json', { "actions": false }).then(result => {
            console.log('Map embedded successfully');
        }).catch(console.error);

        // Embed the graph in the placeholder
        vegaEmbed('#graph', 'graph.json', { "actions": false }).then(result => {
            console.log('Graph embedded successfully');
        }).catch(console.error);
        
        // Embed the country charts in the placeholder
        vegaEmbed('#country-charts', 'country.json', { "actions": false }).then(result => {
            console.log('Country charts embedded successfully');
        }).catch(console.error);
    </script>
    
</body>
</html>
